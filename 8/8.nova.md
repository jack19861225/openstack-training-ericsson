# Nova 模块实践

## Nova api 流程

- create a instance

if the command is : $ nova --debug boot test2 --flavor 1 --image cirros-0.3.4-x86_64-uec --num-instance 1  
```
REQ: curl -g -i -X GET http://192.168.6.131:5000/v2.0 -H "Accept: application/json" -H "User-Agent: keystoneauth1/2.8.0 python-requests/2.10.0 CPython/2.7.6"

REQ: curl -g -i -X GET http://192.168.6.131:8774/v2.1 -H "User-Agent: python-novaclient" -H "Accept: application/json" -H "X-Auth-Token: {SHA1}7743949e9749ec3402ec8befa96d8c1ed918e514"


REQ: curl -g -i -X GET http://192.168.6.131:8774/v2.1/images/5e35d3f2-075d-4990-80d6-251b73da8ba4 -H "User-Agent: python-novaclient" -H "Accept: application/json" -H "X-OpenStack-Nova-API-Version: 2.25" -H "X-Auth-Token: {SHA1}7743949e9749ec3402ec8befa96d8c1ed918e514"

REQ: curl -g -i -X GET http://192.168.6.131:8774/v2.1/flavors/1 -H "User-Agent: python-novaclient" -H "Accept: application/json" -H "X-OpenStack-Nova-API-Version: 2.25" -H "X-Auth-Token: {SHA1}7743949e9749ec3402ec8befa96d8c1ed918e514"

REQ: curl -g -i -X POST http://192.168.6.131:8774/v2.1/servers -H "User-Agent: python-novaclient" -H "Content-Type: application/json" -H "Accept: application/json" -H "X-OpenStack-Nova-API-Version: 2.25" -H "X-Auth-Token: {SHA1}7743949e9749ec3402ec8befa96d8c1ed918e514" -d '{"server": {"min_count": 1, "flavorRef": "1", "name": "test2", "imageRef": "5e35d3f2-075d-4990-80d6-251b73da8ba4", "max_count": 1}}'


REQ: curl -g -i -X GET http://192.168.6.131:8774/v2.1/servers/eccb896a-528f-40f4-bf51-d6e13529a713 -H "User-Agent: python-novaclient" -H "Accept: application/json" -H "X-OpenStack-Nova-API-Version: 2.25" -H "X-Auth-Token: {SHA1}7743949e9749ec3402ec8befa96d8c1ed918e514"
```

